

client state --> parse_state
             --> proto_state --> session_state
